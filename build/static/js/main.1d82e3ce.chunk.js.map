{"version":3,"sources":["utils/realURLsAPI.js","DouyuStream.js","App.js","index.js"],"names":["api","process","REACT_APP_CONTACTS_API_URL","token","localStorage","Math","random","toString","substr","headers","queryDouyuRoom","fetch","then","res","json","data","contacts","DouyuStream","state","roomNo","streamUri","updateSearch","query","setState","trim","clearSearch","queryPython","realURLsAPI","this","className","type","placeholder","value","onChange","event","target","onClick","to","Component","App","removeContact","contact","path","exact","render","ReactDOM","document","getElementById"],"mappings":"qNAAMA,G,YAAMC,mIAAYC,4BAA8B,yBAElDC,EAAQC,aAAaD,MAEpBA,IACHA,EAAQC,aAAaD,MAAQE,KAAKC,SAASC,SAAS,IAAIC,QAAQ,IAElE,IAAMC,EAAU,CACd,OAAU,mBACV,cAAiBN,GAGNO,EAAiB,kBAC1BC,MAAM,GAAD,OAAIX,EAAJ,UAAiB,CAAES,YACnBG,MAAK,SAAAC,GAAG,OAAIA,EAAIC,UAChBF,MAAK,SAAAG,GAAI,OAAIA,EAAKC,a,OCRrBC,E,4MAEFC,MAAQ,CACJC,OAAS,SACTC,UAAW,Q,EAGfC,aAAe,SAACC,GACZ,EAAKC,SAAS,CAACJ,OAAQG,EAAME,U,EAGjCC,YAAc,WACV,EAAKF,SAAS,CAACJ,OAAQ,M,EAG3BO,YAAc,SAACP,GACXQ,IACKf,MAAK,SAACQ,GAAD,OAAe,EAAKF,MAAME,O,4CAGxC,WAAU,IAAD,OAEL,EAA2BQ,KAAKV,MAAzBC,EAAP,EAAOA,OAAOC,EAAd,EAAcA,UAEd,OACI,qBAAKS,UAAU,iBAAf,SACI,gCACI,uBACIA,UAAU,cACVC,KAAK,OACLC,YAAY,iCACZC,MAAOb,EACPc,SAAU,SAACC,GAAD,OAAW,EAAKb,aAAaa,EAAMC,OAAOH,UAGxD,wBAAQI,QAAS,kBAAM,EAAKV,YAAYP,IAAxC,4CAIA,eAAC,IAAD,CACIkB,GAAIlB,EACJU,UAAU,cAFd,uDAIYT,c,GA3CNkB,aAmDXrB,ICnDTsB,E,4MACFrB,MAAQ,CAEJF,SAAU,I,EAUdwB,cAAgB,SAACC,K,uDANjB,c,2BAeA,SAAcA,M,oBASd,WACI,OACI,gCACE,cAAC,IAAD,CAAOC,KAAK,IAAIC,OAAK,EAACC,OAAS,kBAC3B,cAAC,EAAD,OAiBJ,cAAC,IAAD,CAAOD,OAAK,EAACD,KAAK,iB,GApDdJ,aA0DHC,ICzDfM,IAASD,OACP,cAAC,IAAD,UACE,cAAC,EAAD,MAEFE,SAASC,eAAe,W","file":"static/js/main.1d82e3ce.chunk.js","sourcesContent":["const api = process.env.REACT_APP_CONTACTS_API_URL || 'http://back.npsex.com'\n\nlet token = localStorage.token\n\nif (!token)\n  token = localStorage.token = Math.random().toString(36).substr(-8)\n\nconst headers = {\n  'Accept': 'application/json',\n  'Authorization': token\n}\n\nexport const queryDouyuRoom = () =>\n    fetch(`${api}/douyu`, { headers })\n        .then(res => res.json())\n        .then(data => data.contacts)\n\nexport const getAll = () =>\n  fetch(`${api}/contacts`, { headers })\n    .then(res => res.json())\n    .then(data => data.contacts)\n\nexport const remove = (contact) =>\n  fetch(`${api}/contacts/${contact.id}`, { method: 'DELETE', headers })\n    .then(res => res.json())\n    .then(data => data.contacts)\n\nexport const create = (body) =>\n  fetch(`${api}/contacts`, {\n    method: 'POST',\n    headers: {\n      ...headers,\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify(body)\n  }).then(res => res.json())\n","import React, {Component} from 'react';\nimport {Link} from 'react-router-dom';\nimport PropTypes from 'prop-types'\nimport escapeRegExp from 'escape-string-regexp'\nimport * as realURLsAPI from './utils/realURLsAPI'\n// import sortBy from 'sort-by'\n\nclass DouyuStream extends Component{\n\n    state = {\n        roomNo : '122024',\n        streamUri: 'http'\n    }\n\n    updateSearch = (query) => {\n        this.setState({roomNo: query.trim()})\n    }\n\n    clearSearch = () => {\n        this.setState({roomNo: ''})\n    }\n\n    queryPython = (roomNo) => {\n        realURLsAPI.queryDouyuRoom(roomNo)\n            .then((streamUri) => this.state(streamUri))\n    }\n\n    render() {\n\n        const {roomNo,streamUri} = this.state;\n\n        return (\n            <div className='list-platforms'>\n                <div>\n                    <input\n                        className='search-room'\n                        type='text'\n                        placeholder='输入房间号'\n                        value={roomNo}\n                        onChange={(event) => this.updateSearch(event.target.value)}\n                    />\n\n                    <button onClick={() => this.queryPython(roomNo)}>\n                        直播源生成\n                    </button>\n\n                    <Link\n                        to={roomNo}\n                        className=\"add-contact\"\n                    >\n                        复制房间直播源{streamUri}\n                    </Link>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default DouyuStream","import React, {Component} from 'react';\nimport {Router, Route} from 'react-router-dom'\nimport DouyuStream from './DouyuStream'\n// import CreateContact from './CreateContact';\n// import * as ContactsAPI from './utils/ContactsAPI'\n\n\nclass App extends Component {\n    state = {\n        //从服务器获取 联系人 方法：ContactsAPI.getAll 见 ContactsAPI组件\n        contacts: []\n    }\n\n    //react内置生命周期组件 组件挂载时 详见：react组件生命周期图\n    componentDidMount() {\n        // ContactsAPI.getAll().then((contacts) => {\n        //     this.setState({contacts: contacts})\n        // })\n    }\n\n    removeContact = (contact) => {\n        // this.setState((prevState) => ({\n        //         contacts: prevState.contacts.filter((c) => c.id !== contact.id)\n        //     })\n        // )\n        //\n        // ContactsAPI.remove(contact);\n    }\n\n    createContact(contact) {\n        // ContactsAPI.create(contact).then(contact => {\n        //     this.setState(prevState => {\n        //         //concat 用于连接数组（在数组后添加对应的contact对象)\n        //         contacts : prevState.contacts.concat([contact])\n        //     })\n        // })\n    }\n\n    render() {\n        return (\n            <div>\n              <Route path=\"/\" exact render= {()=> (\n                  <DouyuStream\n                      // onDeleteContact={this.removeContact}\n                      // contacts={this.state.contacts}\n                  />\n              )}/>\n\n\n              {/*<Route path=\"/create\" render={ ({history}) =>(*/}\n\n                  {/*<CreateContact*/}\n                      {/*onCreateContact = {(contact) => {*/}\n                          {/*this.createContact(contact)*/}\n                          {/*//history 是router中的url变量*/}\n                          {/*history.push('/')*/}\n                      {/*}}/>*/}\n              {/*)}/>*/}\n\n              <Route exact path=\"/test\" />\n            </div>\n        )\n    }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\n//引入react路由器组件 BrowserRouter\nimport { BrowserRouter } from 'react-router-dom'\nimport App from './App';\n// import reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n"],"sourceRoot":""}